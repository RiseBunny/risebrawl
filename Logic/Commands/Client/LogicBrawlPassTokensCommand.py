from database.DataBase import DataBase
from Utils.Reader import BSMessageReader
import json

class LogicBrawlPassTokensCommand(BSMessageReader):
    def __init__(self, client, player, initial_bytes):
        super().__init__(initial_bytes)
        self.player = player
        self.client = client

    def decode(self):
        pass


    def process(self):
        self.player.BPTOKEN += [[0, 75, 150, 250, 400, 600, 900, 1300, 1700, 2100, 2500, 2900, 3300, 3700, 4100, 4500, 4900, 5300, 5700, 6100, 6500, 7000, 7500, 8000, 8500, 9000, 9500, 10000, 10500, 11000, 11500, 12000, 12500, 13000, 13500, 14000, 14500, 15000, 15500, 16000, 16500, 17100, 17700, 18300, 18900, 19500, 20100, 20700, 21300, 21900, 22500, 23100, 23700, 24300, 24900, 25500, 26100, 26700, 27300, 27900, 28500, 29100, 29700, 30300, 30900, 31500, 32100, 32700, 33300, 33900, 34500][x+1]-self.player.BPTOKEN for x in range(len([_ for _ in range(71)])) if [0, 75, 150, 250, 400, 600, 900, 1300, 1700, 2100, 2500, 2900, 3300, 3700, 4100, 4500, 4900, 5300, 5700, 6100, 6500, 7000, 7500, 8000, 8500, 9000, 9500, 10000, 10500, 11000, 11500, 12000, 12500, 13000, 13500, 14000, 14500, 15000, 15500, 16000, 16500, 17100, 17700, 18300, 18900, 19500, 20100, 20700, 21300, 21900, 22500, 23100, 23700, 24300, 24900, 25500, 26100, 26700, 27300, 27900, 28500, 29100, 29700, 30300, 30900, 31500, 32100, 32700, 33300, 33900, 34500][x]<=self.player.BPTOKEN and [0, 75, 150, 250, 400, 600, 900, 1300, 1700, 2100, 2500, 2900, 3300, 3700, 4100, 4500, 4900, 5300, 5700, 6100, 6500, 7000, 7500, 8000, 8500, 9000, 9500, 10000, 10500, 11000, 11500, 12000, 12500, 13000, 13500, 14000, 14500, 15000, 15500, 16000, 16500, 17100, 17700, 18300, 18900, 19500, 20100, 20700, 21300, 21900, 22500, 23100, 23700, 24300, 24900, 25500, 26100, 26700, 27300, 27900, 28500, 29100, 29700, 30300, 30900, 31500, 32100, 32700, 33300, 33900, 34500][x+1]>self.player.BPTOKEN][0]
        self.player.gems = self.player.gems - 30
        DataBase.replaceValue(self, 'gems', self.player.gems)
        DataBase.replaceValue(self, 'BPTOKEN', self.player.BPTOKEN)